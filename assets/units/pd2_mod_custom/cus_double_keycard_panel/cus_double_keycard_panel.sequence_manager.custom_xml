<table>
	<unit>
		<variables>
			<var_cards value="0"/>
		</variables>
		
		<filter name="'filter_0_cards'">
			<check value="vars.var_cards == 0"/>
		</filter>
		<filter name="'filter_1_cards'">
			<check value="vars.var_cards == 1"/>
		</filter>
		<filter name="'filter_2_cards'">
			<check value="vars.var_cards == 2"/>
		</filter>
		<filter name="'filter_not_2_cards'">
			<check value="vars.var_cards ~= 2"/>
		</filter>
		
		
		<sequence editable_state="true" name="'hide_all_and_disable'" triggable="true">
			<run_sequence name="'hide_all'" />
			<run_sequence name="'disable_interaction'" />
		</sequence>
		
		<sequence editable_state="true" name="'show_all_and_enable'" triggable="true">
			<run_sequence name="'show_all'" />
			<run_sequence name="'enable_interaction'" />
		</sequence>
		
		
		<sequence editable_state="true" name="'show_all'" triggable="true">
			<decal_mesh enabled="true" name="'g_g'"/>
			<decal_mesh enabled="true" name="'g_screen_closed'"/>
			<body enabled="true" name="'body_static'"/>
			<graphic_group visibility="true" name="'grp_graphics'"/>
		</sequence>
		
		<sequence editable_state="true" name="'hide_all'" triggable="true">
			<decal_mesh enabled="false" name="'g_g'"/>
			<decal_mesh enabled="false" name="'g_screen_closed'"/>
			<body enabled="false" name="'body_static'"/>
			<graphic_group visibility="false" name="'grp_graphics'"/>
		</sequence>
		
		
		<sequence editable_state="true" name="'enable_interaction'" triggable="true">
			<interaction filter="'filter_not_2_cards'" enabled="true"/>
			<graphic_group filter="'filter_0_cards'" visibility="true" name="'grp_keycard1_contour'"/>
			<graphic_group filter="'filter_1_cards'" visibility="true" name="'grp_keycard2_contour'"/>
		</sequence>
		
		<sequence editable_state="true" name="'disable_interaction'" triggable="true">
			<interaction enabled="false"/>
			<graphic_group visibility="false" name="'grp_keycard1_contour'"/>
			<graphic_group visibility="false" name="'grp_keycard2_contour'"/>
		</sequence>
		
		
		<sequence editable_state="true" name="'interact'" triggable="true">
			<set_variables var_cards=" vars.var_cards + 1 "/>
			
			<animation_group filter="'filter_1_cards'" enabled="true" from="0/30" name="'anim_keycard1'" to="30/30" speed="1"/>
			<animation_group filter="'filter_2_cards'" enabled="true" from="0/30" name="'anim_keycard2'" to="30/30" speed="1"/>
			
			<object filter="'filter_1_cards'" enabled="true" name="'g_keycard1'"/>
			<object filter="'filter_2_cards'" enabled="true" name="'g_keycard2'"/>
			
			<graphic_group filter="'filter_1_cards'" visibility="false" name="'grp_keycard1_contour'"/>
			<graphic_group filter="'filter_2_cards'" visibility="false" name="'grp_keycard2_contour'"/>
			
			<object filter="'filter_2_cards'" enabled="false" name="'g_screen_closed'" start_time="1"/>
			<object filter="'filter_2_cards'" enabled="true" name="'g_screen_opened'" start_time="1"/>
			
			<run_sequence filter="'filter_not_2_cards'" name="'enable_interaction'" start_time="1"/>
			<run_sequence filter="'filter_2_cards'" name="'used_both_keycards'" start_time="1"/>
			<run_sequence name="'used_first_keycard'" start_time="1"/>
			<run_sequence name="'used_keycard'" start_time="1"/>
		</sequence>
		
		<sequence editable_state="true" name="'used_keycard'" triggable="true"/>
		<sequence editable_state="true" name="'used_first_keycard'" once="true" triggable="true"/>
		<sequence editable_state="true" name="'used_both_keycards'" once="true" triggable="true"/>
		
	</unit>
</table>